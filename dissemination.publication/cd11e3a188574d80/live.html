<!------------------------------------------------------------------------------------------->
<hr>

<ul>
 <li>GITHUB repository with shared artifacts in CK format: <a href="http://github.com/ctuning/reproduce-ck-paper">reproduce-ck-paper</a>, 
           <a href="http://github.com/ctuning/reproduce-ck-paper-large-experiments">reproduce-ck-paper-large-experiments</a>, 
           <a href="http://github.com/ctuning/ctuning-programs">ctuning-programs</a>, 
           <a href="http://github.com/ctuning/ctuning-datasets-min">ctuning-datasets-min</a>, 
           <a href="http://github.com/ctuning/ck-analytics">ck-analytics</a>, 
           <a href="http://github.com/ctuning/ck-autotuning">ck-autotuning</a>, 
           <a href="http://github.com/ctuning/ck-env">ck-env</a> 
 <li><a href="$#ck_root_url#$action=pull&common_func=yes&cid=29db2248aba45e59:cd11e3a188574d80&filename=doc.bib">BIB</a>
 <li><a href="http://arxiv.org/abs/1506.06256">ArXiv with PDF</a>
 <li><a href="https://www.reddit.com/r/programming/comments/3bh9v0/so_all_software_engineers_need_is_a_collective">Some reddit discussions</a>
 <li><a href="http://www.tetracom.eu">Partially funded by TETRACOM project</a>
 <li><a href="http://github.com/ctuning/ck">Related Collective Knowledge infrastructure and repository (CK)</a>
 <li><a href="http://c-mind.org/repo">Related Collective Mind infrastructure and repository (deprecated for CK)</a>
 <li>Extends our previous work: <a href="https://hal.inria.fr/inria-00436029">1</a>, 
      <a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&citation_for_view=IwcnpkwAAAAJ:hqOjcs7Dif8C">2</a>,
      <a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&citation_for_view=IwcnpkwAAAAJ:qjMakFHDy7sC">3</a>,
      <a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&citation_for_view=IwcnpkwAAAAJ:9yKSN-GCB0IC">4</a>,
      <a href="https://hal.inria.fr/hal-00685276">5</a>
 <li><a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&citation_for_view=IwcnpkwAAAAJ:isC4tDSrTZIC">Supports our open publication model</a>
</ul>

<!------------------------------------------------------------------------------------------->
<hr>

<table cellpading="5">
 <tr>
  <td>
   Here we provide details how to reproduce experiments from our
   papers via <a href="http://github.com/ctuning/ck">Collective
   Knowledge Framework and Repository (CK)</a>. All artifacts are
   shared via <a
   href="http://github.com/ctuning/reproduce-ck-paper">CK
   "reproduce-ck-paper" repository</a> at GITHUB. If you have
   CK installed (<a href="http://github.com/ctuning/ck/wiki">docs</a>), 
   you can download and install this repository via CMD simply as<BR>
   <i><pre>
    ck pull repo:reproduce-ck-paper
   </pre></i>
   We would like to thank the community for validating various results and sharing unexpected behavior with us
   via our <a href="http://cknowledge.org/repo">public CK repository</a>!
  </td>
  <td>
   <img src="$#ck_root_url#$action=pull&common_func=yes&cid=1e4e644996b7f2a0:6b411f75e774059b&filename=images/stamp-validated-by-the-community.png">
  </td>
  <td>
   <img src="$#ck_root_url#$action=generate&module_uoa=qr-code&qr_level=6&image_size=170&string=$#ck_root_url#$wcid=29db2248aba45e59:cd11e3a188574d80">
  </td>
 </tr>
</table>


<!------------------------------------------------------------------------------------------->
<hr>

<b>Abstract</b>

<p>
Nowadays, engineers have to develop software often without even
knowing which hardware it will eventually run on in numerous
mobile phones, tablets, desktops, laptops, data centers,
supercomputers and cloud services.

Unfortunately, optimizing compilers are not keeping pace with
ever increasing complexity of ever changing computer systems
anymore and may produce severely underperforming executable codes
while wasting expensive resources and energy.

<p>

We present the first to our knowledge practical, collaborative
and publicly available solution to this problem.

We help the software engineering community gradually implement 
and share light-weight wrappers around any software piece with 
more than one implementation or optimization choice available.

These wrappers are connected with a public <a href="http://c-mind.org">
Collective Mind autotuning infrastructure and repository of 
knowledge</a>&nbsp;<sup>*</sup>&nbsp;
to continuously monitor all important characteristics of these pieces
(<i>computational species</i>) across numerous existing hardware
configurations in realistic environments together with randomly
selected optimizations.

At the same time, <a href="http://c-mind.org/cmn">Collective Mind Node</a>
allows to easily crowdsource time-consuming autotuning across
existing Android-based mobile device including commodity
mobile phones and tables. 

<p>

Similar to natural sciences, we can now continuously track all
winning solutions (optimizations for a given hardware such
as compiler flags, OpenCL/CUDA/OpenMP/MPI/skeleton parameters,
number of threads and any other exposed by users) that minimize
all costs of a computation (execution time, energy spent, code
size, failures, memory and storage footprint, optimization time,
faults, contentions, inaccuracy and so on) of a given species
on a Pareto frontier along with any unexpected behavior
at <a href="http://c-mind.org/repo">c-mind.org/repo</a>.

Furthermore, the community can continuously classify solutions, 
prune redundant ones, and correlate them with various features
of software, its inputs (data sets) and used hardware either
manually (similar to Wikipedia) or using available big data 
analytics and machine learning techniques.

<p>

Our approach can also help computer engineering community create 
the first public, realistic, large, diverse, distributed, representative,
and continuously evolving benchmark with related optimization
knowledge while gradually covering all possible software and
hardware to be able to predict best optimizations and improve
compilers depending on usage scenarios and requirements.

Such continuously growing collective knowledge accessible via
simple web service can become an integral part of the practical
software and hardware co-design of self-tuning computer systems 
as we demonstrate in several real usage scenarios validated 
in industry.

<p>

<sup>*</sup>
<i>
Note that we have moved all our developments to a newer, smaller, 
simpler and faster version of Collective Mind aka Collective Knowledge or CK. 
This open source, BSD-licensed framework with a live repository is avialable here:
<a href="http://github.com/ctuning/ck">http://github.com/ctuning/ck</a> 
and <a href="http://cknowledge.org/repo">http://cknowledge.org/repo</a>.
Documentation with all examples is also available at <a href="http://github.com/ctuning/ck/wiki">http://github.com/ctuning/ck/wiki</a>.
</i>

<!------------------------------------------------------------------------------------------->
<hr>

<H1>P1</H1>

<center>

<B>Reproducing adaptive filter experiments (collaboratively finding features which are not in the system to enable run-time adaptation):</B>

<p>
CK scripts: <a href="$#ck_root_url#$wcid=84e27ad9dd12e734:25483ab234fb4deb">reproduce-filter-speedup</a>

<p>

CK datasets:

<table border="1" cellpadding="5" cellspacing="0">
 <tr>
  <td align="center" valign="top">
   Data set <a href="$#ck_root_url#$wcid=8a7141c59cd335f5:c8848a1b1fb1775e">"image-raw-bin-fgg-office-day-gray"</a> 
   &nbsp;&nbsp;(<a href="$#ck_root_url#$wcid=87b55c4f4a2482da:c8848a1b1fb1775e">features</a>)
  </td>
  <td align="center" valign="top">
   Data set <a href="$#ck_root_url#$wcid=8a7141c59cd335f5:0045c9b59e84318b">"image-raw-bin-fgg-office-night-gray"</a>
   &nbsp;&nbsp;(<a href="$#ck_root_url#$wcid=87b55c4f4a2482da:0045c9b59e84318b">features</a>)
  </td>
 </tr>
 <tr>
  <td align="center" valign="top">
   <img src="$#ck_root_url#$action=pull&common_func=yes&cid=8a7141c59cd335f5:c8848a1b1fb1775e&filename=data_orig.jpg" width="200">
  </td>
  <td align="center" valign="top">
   <img src="$#ck_root_url#$action=pull&common_func=yes&cid=8a7141c59cd335f5:0045c9b59e84318b&filename=data_orig.jpg" width="200">
  </td>
 </tr>
</table>

<p>
<i>Lenovo X240; Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz; Ubuntu 14.04 64bit; GCC 4.4.4<br> 
(CK public repo: <a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:f9607cb4d3383376">all experiments</a>, 
<a href="$#ck_root_url#$wcid=36ebc331048475bb:ae4015ad50f6974f">compiler description</a>,
<a href="$#ck_root_url#$wcid=36ebc331048475bb:">all compilers</a>)</i>

  <table border="1">
  <tr>
    <td></td>
    <td></td>
    <td>Dataset image-raw-bin-fgg-office-day-gray:</td>
    <td>Dataset image-raw-bin-fgg-office-night-gray:</td>
   </tr>
  <tr>
    <td>Optimization:</td>
    <td>Binary size:</td>
    <td>min time (s); exp time (s); var (%):</td>
    <td>min time (s); exp time (s); var (%):</td>
   </tr>
  <tr>
    <td>-O3</td>
    <td>10776</td>
    <td>      4.622 ;       4.634 ;    0.7%</td>
    <td>      4.630 ;       4.653 ;    1.0%</td>
   </tr>
  <tr>
    <td>-O3 -fno-if-conversion</td>
    <td>10784</td>
    <td>      5.169 ;       5.193 ;    1.0% <b><span style="color:#FF0000";>(Slow down over -O3: 1.12)</span></b></td>
    <td>      4.091 ;       4.094 ;    0.2% <b><span style="color:#FF0000";>(Speed up over -O3: 1.14)</span></b></td>
   </tr>
  <tr>
    <td>-O2</td>
    <td>10168</td>
    <td>      4.631 ;       4.754 ;   10.2%</td>
    <td>      4.623 ;       4.639 ;    0.7%</td>
   </tr>
  <tr>
    <td>-O1</td>
    <td>10152</td>
    <td>      4.621 ;       4.633 ;    0.8%</td>
    <td>      4.623 ;       4.685 ;    3.6%</td>
   </tr>
  <tr>
    <td>-Os</td>
    <td>9744</td>
    <td>      4.668 ;       4.678 ;    0.6%</td>
    <td>      4.666 ;       4.685 ;    0.9%</td>
   </tr>
  </table>

<BR>
<b>Note: CK allows the community to continue validating above results and share unexpected behavior in public cknowledge.org/repo 
<a href="http://cknowledge.org/repo/web.php?wcid=bc0409fb61f0aa82:reproduce-ck-paper-filter-optimization">here</a>. See some
of such shared results below:</b>
<BR>


<p>
<i>Lenovo X240; Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz; Ubuntu 14.04 64bit; GCC 4.9.1<br> 
(CK public repo: <a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:1814383993c4d02b">all experiments</a>, 
<a href="$#ck_root_url#$wcid=36ebc331048475bb:2a7072446aaa0544">compiler description</a>,
<a href="$#ck_root_url#$wcid=36ebc331048475bb:">all compilers</a>)</i>

  <table border="1">
  <tr>
    <td></td>
    <td></td>
    <td>Dataset image-raw-bin-fgg-office-day-gray:</td>
    <td>Dataset image-raw-bin-fgg-office-night-gray:</td>
   </tr>
  <tr>
    <td>Optimization:</td>
    <td>Binary size:</td>
    <td>min time (s); exp time (s); var (%):</td>
    <td>min time (s); exp time (s); var (%):</td>
   </tr>
  <tr>
    <td>-O3</td>
    <td>11008</td>
    <td>      4.619 ;       4.630 ;    0.6%</td>
    <td>      4.603 ;       4.628 ;    1.0% <b><span style="color:#FF0000";>(slower than GCC 4.4.4 -O3 -fno-if-conversion)</span></b></td>
   </tr>
  <tr>
    <td>-O3 -fno-if-conversion</td>
    <td>11008</td>
    <td>      4.615 ;       4.625 ;    0.6%</td>
    <td>      4.624 ;       4.628 ;    0.3% <b><span style="color:#FF0000";>(slower than GCC 4.4.4 -O3 -fno-if-conversion)</span></b></td>
   </tr>
  <tr>
    <td>-O2</td>
    <td>10880</td>
    <td>      4.632 ;       4.635 ;    0.1%</td>
    <td>      4.602 ;       4.647 ;    2.5%</td>
   </tr>
  <tr>
    <td>-O1</td>
    <td>10360</td>
    <td>      4.625 ;       4.637 ;    0.7%</td>
    <td>      4.630 ;       4.654 ;    1.8%</td>
   </tr>
  <tr>
    <td>-Os</td>
    <td>10376</td>
    <td>      4.635 ;       4.653 ;    0.8%</td>
    <td>      4.630 ;       4.652 ;    0.8%</td>
   </tr>
  </table>

<p>
<i>Lenovo X240; Intel(R) Core(TM) i5-4210U CPU @ 1.70GHz; Ubuntu 14.04 64bit; <b>GCC 5.2.0</b><br>
(CK public repo: <a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:c792a74d78b19246">all experiments</a>, 
<a href="$#ck_root_url#$wcid=36ebc331048475bb:aff616f4c8d81fdf">compiler description</a>,
<a href="$#ck_root_url#$wcid=36ebc331048475bb:">all compilers</a>)</i>

  <table border="1">
  <tr>
    <td></td>
    <td></td>
    <td>Dataset image-raw-bin-fgg-office-day-gray:</td>
    <td>Dataset image-raw-bin-fgg-office-night-gray:</td>
   </tr>
  <tr>
    <td>Optimization:</td>
    <td>Binary size:</td>
    <td>min time (s); exp time (s); var (%):</td>
    <td>min time (s); exp time (s); var (%):</td>
   </tr>
  <tr>
    <td>-O3</td>
    <td>10776</td>
    <td>      4.622 ;       4.632 ;    0.8%</td>
    <td>      4.630 ;       4.631 ;    0.2%<b><span style="color:#FF0000";>(slower than GCC 4.4.4 -O3 -fno-if-conversion)</span></td>
   </tr>
  <tr>
    <td>-O3 -fno-if-conversion</td>
    <td>10776</td>
    <td>      4.629 ;       4.649 ;    0.8%</td>
    <td>      4.610 ;       4.626 ;    1.1%<b><span style="color:#FF0000";>(slower than GCC 4.4.4 -O3 -fno-if-conversion)</span></td>
   </tr>
  <tr>
    <td>-O2</td>
    <td>10568</td>
    <td>      4.599 ;       4.610 ;    0.6%</td>
    <td>      4.597 ;       4.603 ;    0.4%</td>
   </tr>
  <tr>
    <td>-O1</td>
    <td>10032</td>
    <td>      4.613 ;       4.616 ;    0.2%</td>
    <td>      4.605 ;       4.616 ;    0.8%</td>
   </tr>
  <tr>
    <td>-Os</td>
    <td>10088</td>
    <td>      4.609 ;       4.630 ;    1.4%</td>
    <td>      4.608 ;       4.615 ;    0.4%</td>
   </tr>
  </table>

<p>
<i>Just for comparison during crowd-benchmarking: Samsung Chromebook 2; Samsung EXYNOS5; ARM Cortex A15/A7; ARM Mali-T628; Ubuntu 12.04 32bit; GCC 4.9.2<br>
(CK public repo: <a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:1048e0a14ce3d8bb">all experiments</a>, 
<a href="$#ck_root_url#$wcid=36ebc331048475bb:2a7072446aaa0544">compiler description</a>,
<a href="$#ck_root_url#$wcid=36ebc331048475bb:">all compilers</a>)</i>

  <table border="1">
  <tr>
    <td></td>
    <td></td>
    <td>Dataset image-raw-bin-fgg-office-day-gray:</td>
    <td>Dataset image-raw-bin-fgg-office-night-gray:</td>
   </tr>
  <tr>
    <td>Optimization:</td>
    <td>Binary size:</td>
    <td>min time (s); exp time (s); var (%):</td>
    <td>min time (s); exp time (s); var (%):</td>
   </tr>
  <tr>
    <td>-O3</td>
    <td>7416</td>
    <td>      7.396 ;       7.513 ;    2.9%</td>
    <td>      7.390 ;       7.464 ;    2.6%</td>
   </tr>
  <tr>
    <td>-O3 -fno-if-conversion</td>
    <td>7424</td>
    <td>      7.345 ;       7.455 ;    3.8%</td>
    <td>      7.384 ;       7.490 ;    2.6%</td>
   </tr>
  <tr>
    <td>-O2</td>
    <td>7100</td>
    <td>      7.398 ;       7.926 ;   39.2%</td>
    <td>      7.450 ;       7.514 ;    2.3%</td>
   </tr>
  <tr>
    <td>-O1</td>
    <td>7072</td>
    <td>      7.404 ;       7.444 ;    1.4%</td>
    <td>      7.389 ;       7.443 ;    2.9%</td>
   </tr>
  <tr>
    <td>-Os</td>
    <td>6292</td>
    <td>      7.367 ;       7.409 ;    1.5%</td>
    <td>      7.375 ;       7.479 ;    2.7%</td>
   </tr>
  </table>

</center>

<!------------------------------------------------------------------------------------------->
<hr>

<h1>Appendix: extra reproducible examples of universal autotuning, predictive analytics, active learning and run-time adaptation via CK</h1>

<H1>P2</H1>

<center>
 <p>
 <b>Interactive graph of <a href="$#ck_root_url#$wcid=b0ac08fe1d3c2615:6a7145744fa93c7e">slambench (OpenCL)</a> 
    multi-objective algorithm autotuning (FPS vs accuracy or any other characteristics with Pareto frontier)</b><br><br>
</center>         

<ul>
 <li>Samsung ChromeBook 2; Samsung EXYNOS5; ARM Cortex A15/A7; ARM Mali-T628; Ubuntu 12.04; video 640x480
 <li>Clang 3.6.0 -O3
 <li>Big green dot: default algorithm configuration
 <li>Small blue dots: random algorithm configurations 
      (<a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:64fbdfa1d9c28942&filename=algorithm_exploration.json">see CK JSON autotuning description with ranges</a> or
       <a href="$#ck_root_url#$wcid=84e27ad9dd12e734:64fbdfa1d9c28942">all scripts</a>):
  <ul>
   <li>Param c (compute-size-ratio, default 1)
   <li>Param r (integration-rate, default 1)
   <li>Param l (icp threshold)
   <li>Param m (default is 0.1)
   <li>Param y1 (pyramid-levels X, default=10)
   <li>Param y2 (pyramid-levels Y, default=5)
   <li>Param y3 (pyramid-levels Z, default=4)
   <li>Param v (volume-resolution, default=256)
  </ul>
 <li>Big red dots: Pareto frontier 
 <li>Requires 2 more CK repositories for reproducibility:
  <ul>
   <li>ck pull <a href="http://github.com/ctuning/reproduce-pamela-project">reproduce-pamela-project</a>
   <li>ck pull <a href="http://github.com/ctuning/reproduce-pamela-project-medium-dataset">reproduce-pamela-project-medium-dataset</a>
  </ul>
 <li>Note: we did not yet implement visualization variation in D3 graphs - help is appreciated!
 <li><b>Table with Pareto results is available <a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:85d4702af59fc432">here</a></b>
 <li><b>Table with crowdbenchmarking results across multiple shared platforms vs FPS is available <a href="$#ck_root_url#$subview=17f4334bf785af5b&wcid=bc0409fb61f0aa82:fb8db7bfa6a1a11d&reverse_table_sort=14">here</a></b>
</ul>

<center>

<div id="ck_interactive_a6eb74c75ae8565f">
$#ck_include_start#${"cid":"2d41f89bcf32d4d4:3b1b261d30f3934a", "where":"div#ck_interactive_a6eb74c75ae8565f", "html":"2d_points_fps_vs_accuracy_with_pareto_interactive.html", "style":"2d_points_fps_vs_accuracy_with_pareto_interactive.style"}$#ck_include_stop#$
</div>

</center>

<i>Note, that with minimal changes, we can monitor and balance any characteristics exposed via CK such
as energy (currently on Odroid platforms), code size, compilation time, and anything else
across multiple platforms on Android, Linux, Windows, MacOS, etc.
We can also tune any parameter exposed via CK such as compiler flags/passes, hardware configurations
such as frequency or used cores, OpenCL parameters such as worksize, CUDA/OpenMP/MPI parameters
and algorithm parameters. The community can gradually add and share more parameters and characteristics
for tuning.</i>

<br>
<br>

<!------------------------------------------------------------------------------------------->
<hr>

<H1>P3</H1>

<center>
<p>
<b>Non-interactive graph of analysis of CPU/GPU with memory transfer and GPU only time of <a href="$#ck_root_url#$wcid=b0ac08fe1d3c2615:b93bc750890706bc">HOG image processing applications 
(machine learning algorithms)</a> versus different OpenCL optimizations and hardware configurations</b><br>
<br>
</center>

<ul>
 <li>Samsung ChromeBook 1/2; ARM Cortex A15/A7; ARM Mali-T604/T628; Debian; random images; calc_histogram CPU/OpenCL kernel
 <li>Example of experiments not executed via CK but exported to CK by Anton Lokhmotov 
     from his scripts in January 2015 (before CK was mature enough) to take advantage
     of predictive analytics (active learning, decision trees, predictive scheduling).
     However, since June 2015, it is possible to perform the same experimentation
     fully in CK (see CK <a href="http://github.com/ctuning/ck/wiki">Getting Started Guide HOG examples</a>).
 <li>ARM Mali OpenCL 5.0 (default optimization)

 <li><span style="color:#0000FF;">Blue line: calc_histogram kernel CPU time (s.)</span>
 <li><span style="color:#FF0000;">Red line: calc_histogram kernel GPU with memory transfer time (s.)</span>
 <li><span style="color:#FF7F00;">Yellow line: calc_histogram kernel GPU time (s.)</span>
 <li><span style="color:#00FF00;">Green dashed line: adaptation threshold (left - better to run on CPU; right - better to run on GPU)</span>
 <li>Tuned/varied parameters
  <ul>
    <li>GWS_X
    <li>GWS_Y
    <li>GWS_Z
    <li>LWS_X
    <li>LWS_Y
    <li>LWS_Z
    <li>OFFSET_X
    <li>OFFSET_Y
    <li>OFFSET_Z
    <li>CPU frequency
    <li>GPU frequency
    <li>image cols
    <li>image rows
    <li>worksize
  </ul>
 <li>Requires 2 more CK repository for reproducibility:
  <ul>
   <li>ck pull <a href="http://github.com/ctuning/reproduce-carp-project">reproduce-carp-project</a>
   <li>ck pull <a href="http://github.com/ctuning/reproduce-ck-paper-large-experiments">reproduce-ck-paper-large-experiments</a>
  </ul>
 <li>Raw experiments
  <ul>
   <li><a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:fd54cd4b3b73b72b">hog-mali-t604</a>
   <li><a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:5db4344ff858f3f5">hog-mali-t628-as-t604</a>
   <li><a href="$#ck_root_url#$wcid=bc0409fb61f0aa82:3bfd697a48fbba16">hog-mali-t628</a>
  </ul>


</ul>

<br>

<center>
<b>Samsung ChromeBook 1; ARM A7; ARM Mali T604</b><br>
<img src="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:c47f9890b1518d2f&filename=plot_t604_sorted_with_variation_all.png" width="800" height="350" ><br>

<b>Samsung ChromeBook 2; ARM A15/A7; ARM Mali T628</b><br>
<img src="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:c47f9890b1518d2f&filename=plot_t628_sorted_with_variation_all.png" width="800" height="350" ><br>

</center>

<BR>
<i><b>Note: </b>CK allows the community validate the results and share unexpected behavior in public cknowledge.org/repo 
<a href="http://cknowledge.org/repo/web.php?wcid=bc0409fb61f0aa82:reproduce-ck-paper-filter-variation">here</a>.</i>


<br>
<br>

<!------------------------------------------------------------------------------------------->
<hr>

<H1>P4</H1>

<center>
<p>
<b>3 interactive graphs of (CPU time) / (GPU with memory transfer time) for above HOG application vs experiment number used 
for further predictive analytics to enable predictive scheduling at run-time 
(see <a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&user=IwcnpkwAAAAJ&citation_for_view=IwcnpkwAAAAJ:qjMakFHDy7sC">our paper</a>
for motivation)</b>.
</center>

<br>

<ul>
 <li><a href="$#ck_root_url#$wcid=2d41f89bcf32d4d4:f923af43c8b1e45b&subgraph=reproduce_ck_paper_hog_predictive_sheduling_t604">Samsung Chromebook 1; GPU ARM T604; 276 points</a>
 <li><a href="$#ck_root_url#$wcid=2d41f89bcf32d4d4:f923af43c8b1e45b&subgraph=reproduce_ck_paper_hog_predictive_sheduling_t628_as_t604">Samsung Chromebook 2; GPU ARM T628; 276 points (the same as on T604)</a>
 <li><a href="$#ck_root_url#$wcid=2d41f89bcf32d4d4:f923af43c8b1e45b&subgraph=reproduce_ck_paper_hog_predictive_sheduling_t628">Samsung Chromebook 2; GPU ARM T628; 460 points (extra points)</a>
</ul>

<!------------------------------------------------------------------------------------------->
<hr>

<H1>P5</H1>

<center>
<p>
<b>Building predictive models via CK (scikit-learn and decision trees with different features and depth)</b>
</center>

<br>
<br>
The unification of experiments in CK allows to easily
connect experimental results with various powerful machine learning techniques to get help
in understanding correlations between <i><b>'characteristics', 'features', 'choices'
and the 'state'</b></i>. Furthermore, researchers and the community can focus their effort on 
explaining unexpected behavior (can be replayed in CK), finding missing features (where model 
fails explaining results) and improving models to make best predictions.  
<br>
<br>
Next, we demonstrate such example, by first building predictive model for adaptive CPU/GPU scheduling
for above HOG example fro Samsung Chromebook 1, then trying to reuse it for Samsung Chromebook 2,
then building new model for Samsung Chromebook 2, finding better features (combinations of
existing ones or new ones that were even not in the system) and getting to nearly 99% prediction rate
at least on the current setup (it can be continuously improved by the community of via active learning -
see our previous papers for more details [<a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&user=IwcnpkwAAAAJ&citation_for_view=IwcnpkwAAAAJ:qjMakFHDy7sC">1</a>],
[<a href="$#ck_root_url#$wcid=29db2248aba45e59:6f40bc99c4f7df58">2</a>]).

<br>
Experimental setup (see above):<br>
<br>

<b>Objective function (decision):</b>
 <ul>
  <li>CPU/GPU COPY > 1.07 (true/false)? Needed for predictive run-time scheduling
 </ul>

<b>SF1: Features (set 1):</b>
 <ul>
  <li>worksize
 </ul>

<b>SF2: Features (set 2, includes set 1):</b>
 <ul>
  <li>GWS0 
  <li>GWS1 
  <li>GWS2 
  <li>cpu_freq 
  <li>gpu_freq
  <li>image cols 
  <li>image rows
  <li>image size
 </ul>

<b>SF3: Designed features (set 3, includes set 2):</b>
 <ul>
  <li>image_size_div_by_cpu_freq
  <li>image_size_div_by_gpu_freq
  <li>cpu_freq_div_by_gpu
  <li>image_size_div_by_cpu_div_by_gpu_freq
  <li>image_size_div_by_cpu_freq
 </ul>

<br>
<center>
Example of a decision tree built for Chromebook 1 to schedule HOG kernel at run-time either on CPU or GPU
with set 2 and depth 3 (achiving 98% correct predictions on 296 points and 100% on 20 points):


<img src="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth3/model-sklearn-dtc.model.png" width="800">

<br>
<a href="$#ck_root_url#$wcid=84e27ad9dd12e734:f4b5b8fded3ce933">Scripts to build/validate above model in CK (t604-second-set-of-features-depth3)</a>
<br>
<br>

</center>
<i>Note that a few features were enough to make nearly perfect correlations 
(to some extent, decision tree can be used as PCA to quickly and continuously explain 
correlations while exposing unexpected behavior to researchers in the workgroup
or to the comunity to find more features and their combinations or improve
models).</i>

<br>
<br>

<H1>P6</H1>

<center>
<b>Table with correct prediction rate for adaptive CPU/GPU scheduling of HOG kernel via CK on two platforms</b><br>
</center>
<br>
Results have either 2 or 3 numbers:<br>
Prediction rate with training n 20 points / Prediction rate with training on 276 points (/ Prediction rate with training on 460 points)<br>
<br>
It is useful to see decision tree refinement during active learning (improving model on the fly when more points are available).
Click on the prediction rate number to see the decision tree in png (or change png to pdf in URL to see it in scalable pdf).
Note, that such CK generated decision tree can also be converted to C to be integrateed inside adaptive wrappers for kernels.
<br>
<br>

<center>
<table border="1" cellpadding="5" cellspacing="0">
 <tr>
  <td align="center">
  </td>

  <td align="center">
   <b>Feature set 1</b>
  </td>
  <td colspan="4" align="center">
   <b>Feature set 2</b>
  </td>
  <td colspan="5" align="center">
   <b>Feature set 3</b>
  </td>
 <tr>

 <tr>
  <td align="center">
   <b>Platform</b>
  </td>

  <td align="center">
   <b>Depth 2</b>
  </td>

  <td align="center">
   <b>Depth 2</b>
  </td>
  <td align="center">
   <b>Depth 3</b>
  </td>
  <td align="center">
   <b>Depth 4</b>
  </td>
  <td align="center">
   <b>Depth 5</b>
  </td>

  <td align="center">
   <b>Depth 2</b>
  </td>
  <td align="center">
   <b>Depth 3</b>
  </td>
  <td align="center">
   <b>Depth 4</b>
  </td>
  <td align="center">
   <b>Depth 5</b>
  </td>
  <td align="center">
   <b>Depth 6</b>
  </td>
 <tr>


 <tr>
  <td>
   Samsung Chromebook 1 (Mali T604); own models
  </td>
 
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-first-set-of-features-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-first-set-of-features/model-sklearn-dtc.model.png">
    97.8%</a> 
  </td>

  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth2-small/model-sklearn-dtc.model.png">
    97.8%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth2/model-sklearn-dtc.model.png">
    97.8%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth3-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth3/model-sklearn-dtc.model.png">
    97.8%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth4-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth4/model-sklearn-dtc.model.png">
    99.3%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth5-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-second-set-of-features-depth5/model-sklearn-dtc.model.png">
    99.6%</a>
  </td>

  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-third-set-of-features-depth5-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t604-third-set-of-features-depth5/model-sklearn-dtc.model.png">
    100.0%</a> 
  </td>
  <td align="center">
  </td>
 <tr>

 <tr>
  <td>
   Samsung Chromebook 2 (Mali T628); models from Chromebook 1
  </td>
 
  <td align="center">
    51.1% /
    51.7%
  </td>

  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
   30.0% /
   51.5%
  </td>

  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
  </td>
  <td align="center">
   30.0% /
   51.8% /
   52.6%
  </td>
  <td align="center">
  </td>
 <tr>


 <tr>
  <td>
   Samsung Chromebook 2 (Mali T628); own models
  </td>
 
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-first-set-of-features-small/model-sklearn-dtc.model.png">
    85.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-first-set-of-features/model-sklearn-dtc.model.png">
    82.3%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-first-set-of-features-more-points/model-sklearn-dtc.model.png">
    88.3%</a> 
  </td>

  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth2-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth2/model-sklearn-dtc.model.png">
    90.2%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth2-more-points/model-sklearn-dtc.model.png">
    93.0%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth3-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth3/model-sklearn-dtc.model.png">
    91.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth3-more-points/model-sklearn-dtc.model.png">
    93.5%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth4-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth4/model-sklearn-dtc.model.png">
    90.2%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth4-more-points/model-sklearn-dtc.model.png">
    93.0%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth5-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth5/model-sklearn-dtc.model.png">
    90.2%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-second-set-of-features-depth5-more-points/model-sklearn-dtc.model.png">
    93.0%</a> 
  </td>

  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth2-small/model-sklearn-dtc.model.png">
    95.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth2/model-sklearn-dtc.model.png">
    90.2%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth2-more-points/model-sklearn-dtc.model.png">
    93.0%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth3-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth3/model-sklearn-dtc.model.png">
    95.3%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth3-more-points/model-sklearn-dtc.model.png">
    96.1%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth4-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth4/model-sklearn-dtc.model.png">
    98.2%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth4-more-points/model-sklearn-dtc.model.png">
    98.3%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth5-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth5/model-sklearn-dtc.model.png">
    99.3%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth5-more-points/model-sklearn-dtc.model.png">
    98.9%</a> 
  </td>
  <td align="center">
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth6-small/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth6/model-sklearn-dtc.model.png">
    100.0%</a> /
    <a href="$#ck_root_url#$action=pull&common_func=yes&cid=84e27ad9dd12e734:f4b5b8fded3ce933&filename=t628-third-set-of-features-depth6-more-points/model-sklearn-dtc.model.png">
    99.6%</a> 
  </td>

 <tr>


</table>






</center>

<br>

<b>Above results support our wrapper based approach (computational species) across various
most-time consuming kernels and libaries combined with exposed features and automatically
built and continuously refined decision trees via CK as described in this paper and 
<a href="$#ck_root_url#$wcid=29db2248aba45e59:6f40bc99c4f7df58#$">its first part</a>.
They also demonstrate that it is possible to use CK to balance decision tree's prediction 
rate (accruacy) versus size and speed to ensure that the ulitmiate decision tree 
implemented in C and embedded in a kernel wrapper is fast and compact enough.
</b>

<br>
<br>

<!------------------------------------------------------------------------------------------->
<hr>

<i>Note: we are gradually converting all the code and data related to this paper
from the deprecated Collective Mind Format to the new Collective Knowledge Framework.</i>

<br>
<br>
